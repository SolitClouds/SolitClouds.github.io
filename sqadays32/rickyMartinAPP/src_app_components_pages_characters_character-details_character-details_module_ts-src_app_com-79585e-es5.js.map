{"version":3,"sources":["webpack:///src/app/components/pages/characters/character-details/character-details-routing.module.ts","webpack:///src/app/components/pages/characters/character-details/character-details.module.ts","webpack:///src/app/components/pages/characters/character.componet.ts","webpack:///src/app/shared/models/trackHttpError.ts","webpack:///src/app/shared/services/character.service.ts"],"names":["routes","path","component","CharacterDetailsComponent","CharacterDetailsRoutingModule","RouterModule","CharacterDetailsModule","CommonModule","CharacterComponent","TrackHttpError","CharacterService","http","query","page","filter","environment","get","pipe","catchError","err","handleHttpError","id","error","dataError","errorNumber","status","message","statusText","friendlyMessage","throwError"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,MAAM,GAAW,CAAC;AAAEC,YAAI,EAAE,EAAR;AAAYC,iBAAS,EAAE,0DAAAC;AAAvB,OAAD,CAAvB;;UAMaC,8B;;;;;yBAAAA,8B;AAA6B,O;;;cAA7BA;;;kBAHF,CAAC,6CAAAC,YAAA,UAAsBL,MAAtB,CAAD,C,EACC,6CAAAK,Y;;;;4HAECD,8B,EAA6B;AAAA;AAAA,oBAF9B,6CAAAC,YAE8B;AAAA,S;AAFlB,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAXC,uB;;;;;yBAAAA,uB;AAAsB,O;;;cAAtBA;;;kBAFF,CAAC,6CAAAC,YAAD,EAAe,+DAAAH,6BAAf,C;;;;4HAEEE,uB,EAAsB;AAAA,oBAFvB,6CAAAC,YAEuB,EAFT,+DAAAH,6BAES;AAAA,S;AAFoB,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCuB1CI,mB;;;;;yBAAAA,mB;AAAkB,O;;;cAAlBA,mB;AAAkB,sC;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,gB;AAAA,yJ;AAAA;AAAA;AAvB3B;;AACE;;AACE;;AACE;;AAKF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAI;;;;AAAiC;;AACvC;;AACA;;AAAuB;;AAAuB;;AAC9C;;AAA0B;;;;AAA8B;;AAC1D;;AACF;;AACF;;;;AAjBO;;AAAA;;AAEC;;AAAA,8JAAuB,KAAvB,EAAuB,kBAAvB;;AAQC;;AAAA;;AACG;;AAAA;;AAEiB;;AAAA;;AACG;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCvBvBC,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCaAC,iB;AACX,mCAAoBC,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAAoB;;;;iBAExC,4BAAuC;AAAA;;AAAA,gBAAtBC,KAAsB,uEAAd,EAAc;AAAA,gBAAVC,IAAU,uEAAH,GAAG;AACrC,gBAAMC,MAAM,aAAM,sDAAAC,WAAA,WAAN,oBAAsCH,KAAtC,mBAAoDC,IAApD,CAAZ;AACA,mBAAO,KAAKF,IAAL,CAAUK,GAAV,CAA2BF,MAA3B,EACNG,IADM,CACD,gDAAAC,UAAA,EAAW,UAACC,GAAD;AAAA,qBAAS,KAAI,CAACC,eAAL,CAAqBD,GAArB,CAAT;AAAA,aAAX,CADC,CAAP;AAED;;;iBAED,oBAAWE,EAAX,EAAuB;AAAA;;AACrB,mBAAO,KAAKV,IAAL,CAAUK,GAAV,WAA4B,sDAAAD,WAAA,WAA5B,cAAsDM,EAAtD,GACNJ,IADM,CACD,gDAAAC,UAAA,EAAW,UAACC,GAAD;AAAA,qBAAS,MAAI,CAACC,eAAL,CAAqBD,GAArB,CAAT;AAAA,aAAX,CADC,CAAP;AAED;;;iBAGO,yBACNG,KADM,EACiB;AAGvB,gBAAIC,SAAS,GAAG,IAAI,2DAAAd,cAAJ,EAAhB;AACAc,qBAAS,CAACC,WAAV,GAAwBF,KAAK,CAACG,MAA9B;AACAF,qBAAS,CAACG,OAAV,GAAoBJ,KAAK,CAACK,UAA1B;AACAJ,qBAAS,CAACK,eAAV,GAA4B,oCAA5B;AACA,mBAAO,sCAAAC,UAAA,EAAWN,SAAX,CAAP;AACD;;;;;;;yBAxBUb,iB,EAAgB,oH;AAAA,O;;;eAAhBA,iB;AAAgB,iBAAhBA,iBAAgB,K;AAAA,oBAFf","file":"src_app_components_pages_characters_character-details_character-details_module_ts-src_app_com-79585e-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CharacterDetailsComponent } from './character-details.component';\r\n\r\nconst routes: Routes = [{ path: '', component: CharacterDetailsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CharacterDetailsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CharacterDetailsRoutingModule } from './character-details-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [CommonModule, CharacterDetailsRoutingModule],\r\n})\r\nexport class CharacterDetailsModule {}\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Character } from '@app/shared/interfaces/character.interface';\r\n\r\n\r\n@Component({\r\n    selector:'app-character',\r\n    template:`\r\n    <div class=\"card\">\r\n      <div class=\"image\">\r\n        <a [routerLink]=\"['/character-details', character.id-1]\">\r\n          <img\r\n            [src]=\"character.image\"\r\n            [alt]=\"character.name\"\r\n            class=\"card-img-top\"\r\n          />\r\n        </a>\r\n      </div>\r\n      <div class=\"card-inner\">\r\n        <div class=\"header\">\r\n          <a [routerLink]=\"['/character-details', character.id-1]\">\r\n            <h2>{{ character.name | slice: 0:15}}</h2>\r\n          </a>\r\n          <h4 class=\"text-muted\">{{ character.species }}</h4>\r\n          <small class=\"text-muted\">{{ character.created | date }}</small>\r\n        </div>\r\n      </div>\r\n    </div>`,\r\n    changeDetection:ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class CharacterComponent{\r\n    @Input() character:Character;\r\n}\r\n","export class TrackHttpError{\r\n  errorNumber:number;\r\n  message: string;\r\n  friendlyMessage: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\n\r\nimport { throwError, Observable } from 'rxjs';\r\n\r\nimport { Character } from '@shared/interfaces/character.interface';\r\nimport { environment } from '@environment/environment';\r\nimport { TrackHttpError } from '@shared/models/trackHttpError';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CharacterService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  searchCharacters(query = '', page = 200):Observable<Character[] | TrackHttpError> {\r\n    const filter = `${environment.baseUrlAPI}/?name=${query}&page=${page}`;\r\n    return this.http.get<Character[]>(filter)\r\n    .pipe(catchError((err) => this.handleHttpError(err)));\r\n  }\r\n\r\n  getDetails(id: number) {\r\n    return this.http.get<Character>(`${environment.baseUrlAPI}/${id}`)\r\n    .pipe(catchError((err) => this.handleHttpError(err)));\r\n  }\r\n\r\n\r\n  private handleHttpError(\r\n    error:HttpErrorResponse\r\n  ):Observable<TrackHttpError>{\r\n\r\n    let dataError = new TrackHttpError();\r\n    dataError.errorNumber = error.status;\r\n    dataError.message = error.statusText;\r\n    dataError.friendlyMessage = 'An error occured retrienving data.';\r\n    return throwError(dataError);\r\n  }\r\n}\r\n"]}