{"version":3,"sources":["webpack:///node_modules/ngx-infinite-scroll/__ivy_ngcc__/modules/ngx-infinite-scroll.js","webpack:///node_modules/rxjs/_esm2015/internal/operators/sampleTime.js","webpack:///src/app/components/pages/characters/character-list/character-list.component.html","webpack:///src/app/components/pages/characters/character-list/character-list.component.ts","webpack:///src/app/components/pages/characters/character.componet.ts","webpack:///src/app/shared/models/trackHttpError.ts","webpack:///src/app/shared/services/character.service.ts"],"names":["resolveContainerElement","selector","scrollWindow","defaultElement","fromRoot","hasWindow","window","document","documentElement","container","containerIsString","findElement","nativeElement","Error","customRoot","rootEl","querySelector","inputPropChanged","prop","firstChange","hasWindowDefined","VerticalProps","clientHeight","offsetHeight","scrollHeight","pageYOffset","offsetTop","scrollTop","top","HorizontalProps","AxisResolver","vertical","propsMap","shouldTriggerEvents","alwaysCallback","shouldFireScrollEvent","isTriggeredCurrentTotal","createResolver","windowElement","axis","createResolverWithContainer","isWindow","isElementWindow","resolver","Object","assign","some","obj","prototype","toString","call","includes","getDocumentElement","isContainerWindow","calculatePoints","element","height","extractHeightForElement","calculatePointsForWindow","calculatePointsForElement","extractHeightPropKeys","offsetHeightKey","clientHeightKey","scrolled","getElementPageYOffset","nativeElementHeight","getElementHeight","totalToScroll","getElementOffsetTop","scrollTopKey","scrollHeightKey","elem","isNaN","docElem","topKey","getBoundingClientRect","pageYOffsetKey","offsetTopKey","ownerDocument","defaultView","distance","scrollingDown","remaining","containerBreakpoint","scrolledUntilNow","down","totalHiddenContentHeight","up","shouldFireEvent","isScrollingDownwards","lastScrollPosition","getScrollStats","scrollDown","fire","ScrollState","lastTotalToScroll","triggered","position","updateScrollPosition","updateTotalToScroll","scroll","isScrollingDown","createScroller","config","scrollContainer","horizontal","scrollState","options","throttle","upDistance","downDistance","attachScrollEvent","pipe","mergeMap","of","map","positionStats","toInfiniteScrollParams","tap","stats","updateScroll","filter","isTriggeredScroll","updateTriggeredFlag","toInfiniteScrollAction","obs","fromEvent","sampleTime","InfiniteScrollActions","DOWN","UP","response","currentScrollPosition","type","payload","InfiniteScrollDirective","zone","EventEmitter","scrolledUp","infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","infiniteScrollDisabled","infiniteScrollContainer","immediateCheck","setup","containerChanged","disabledChanged","distanceChanged","shouldSetup","currentValue","destroyScroller","runOutsideAngular","disposeScroller","disable","subscribe","run","handleOnScroll","emit","unsubscribe","ɵfac","InfiniteScrollDirective_Factory","t","ɵdir","selectors","inputs","outputs","features","ctorParameters","ElementRef","NgZone","propDecorators","Output","Input","ngDevMode","Directive","args","InfiniteScrollModule","InfiniteScrollModule_Factory","ɵmod","ɵinj","providers","imports","NgModule","declarations","exports","ngJitMode","period","scheduler","async","source","lift","SampleTimeOperator","subscriber","SampleTimeSubscriber","destination","hasValue","add","schedule","dispatchNotification","value","lastValue","next","Subscriber","state","notifyNext","CharacterListComponent","characterSvc","route","router","characters","info","showGoUpButton","pageNum","hideScrollHeight","showScrollHeight","onUrlChanged","getCharactersByQuery","yOffSet","body","getDataFromService","events","event","NavigationEnd","queryParams","take","params","query","searchCharacters","res","results","length","error","console","log","friendlyMessage","DOCUMENT","onScrollDown","CharacterComponent","TrackHttpError","CharacterService","http","page","environment","get","catchError","err","handleHttpError","id","dataError","errorNumber","status","message","statusText","throwError"],"mappings":"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","file":"default-src_app_components_pages_characters_character-list_character-list_component_ts-es5.js","sourcesContent":["import { Directive, ElementRef, EventEmitter, Input, NgModule, NgZone, Output } from '@angular/core';\nimport { fromEvent, of } from 'rxjs';\nimport { filter, map, mergeMap, sampleTime, tap } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} selector\n * @param {?} scrollWindow\n * @param {?} defaultElement\n * @param {?} fromRoot\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction resolveContainerElement(selector, scrollWindow, defaultElement, fromRoot) {\n    /** @type {?} */\n    const hasWindow = window && !!window.document && window.document.documentElement;\n    /** @type {?} */\n    let container = hasWindow && scrollWindow ? window : defaultElement;\n    if (selector) {\n        /** @type {?} */\n        const containerIsString = selector && hasWindow && typeof selector === 'string';\n        container = containerIsString\n            ? findElement(selector, defaultElement.nativeElement, fromRoot)\n            : selector;\n        if (!container) {\n            throw new Error('ngx-infinite-scroll {resolveContainerElement()}: selector for');\n        }\n    }\n    return container;\n}\n/**\n * @param {?} selector\n * @param {?} customRoot\n * @param {?} fromRoot\n * @return {?}\n */\nfunction findElement(selector, customRoot, fromRoot) {\n    /** @type {?} */\n    const rootEl = fromRoot ? window.document : customRoot;\n    return rootEl.querySelector(selector);\n}\n/**\n * @param {?} prop\n * @return {?}\n */\nfunction inputPropChanged(prop) {\n    return prop && !prop.firstChange;\n}\n/**\n * @return {?}\n */\nfunction hasWindowDefined() {\n    return typeof window !== 'undefined';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst VerticalProps = {\n    clientHeight: \"clientHeight\",\n    offsetHeight: \"offsetHeight\",\n    scrollHeight: \"scrollHeight\",\n    pageYOffset: \"pageYOffset\",\n    offsetTop: \"offsetTop\",\n    scrollTop: \"scrollTop\",\n    top: \"top\"\n};\n/** @type {?} */\nconst HorizontalProps = {\n    clientHeight: \"clientWidth\",\n    offsetHeight: \"offsetWidth\",\n    scrollHeight: \"scrollWidth\",\n    pageYOffset: \"pageXOffset\",\n    offsetTop: \"offsetLeft\",\n    scrollTop: \"scrollLeft\",\n    top: \"left\"\n};\nclass AxisResolver {\n    /**\n     * @param {?=} vertical\n     */\n    constructor(vertical = true) {\n        this.vertical = vertical;\n        this.propsMap = vertical ? VerticalProps : HorizontalProps;\n    }\n    /**\n     * @return {?}\n     */\n    clientHeightKey() {\n        return this.propsMap.clientHeight;\n    }\n    /**\n     * @return {?}\n     */\n    offsetHeightKey() {\n        return this.propsMap.offsetHeight;\n    }\n    /**\n     * @return {?}\n     */\n    scrollHeightKey() {\n        return this.propsMap.scrollHeight;\n    }\n    /**\n     * @return {?}\n     */\n    pageYOffsetKey() {\n        return this.propsMap.pageYOffset;\n    }\n    /**\n     * @return {?}\n     */\n    offsetTopKey() {\n        return this.propsMap.offsetTop;\n    }\n    /**\n     * @return {?}\n     */\n    scrollTopKey() {\n        return this.propsMap.scrollTop;\n    }\n    /**\n     * @return {?}\n     */\n    topKey() {\n        return this.propsMap.top;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\n\n/**\n * @record\n */\n\n/**\n * @record\n */\n\n/**\n * @record\n */\n\n/**\n * @param {?} alwaysCallback\n * @param {?} shouldFireScrollEvent\n * @param {?} isTriggeredCurrentTotal\n * @return {?}\n */\nfunction shouldTriggerEvents(alwaysCallback, shouldFireScrollEvent, isTriggeredCurrentTotal) {\n    if (alwaysCallback && shouldFireScrollEvent) {\n        return true;\n    }\n    if (!isTriggeredCurrentTotal && shouldFireScrollEvent) {\n        return true;\n    }\n    return false;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction createResolver({ windowElement, axis }) {\n    return createResolverWithContainer({ axis, isWindow: isElementWindow(windowElement) }, windowElement);\n}\n/**\n * @param {?} resolver\n * @param {?} windowElement\n * @return {?}\n */\nfunction createResolverWithContainer(resolver, windowElement) {\n    /** @type {?} */\n    const container = resolver.isWindow || (windowElement && !windowElement.nativeElement)\n        ? windowElement\n        : windowElement.nativeElement;\n    return Object.assign(Object.assign({}, resolver), { container });\n}\n/**\n * @param {?} windowElement\n * @return {?}\n */\nfunction isElementWindow(windowElement) {\n    /** @type {?} */\n    const isWindow = ['Window', 'global'].some((/**\n     * @param {?} obj\n     * @return {?}\n     */\n    (obj) => Object.prototype.toString.call(windowElement).includes(obj)));\n    return isWindow;\n}\n/**\n * @param {?} isContainerWindow\n * @param {?} windowElement\n * @return {?}\n */\nfunction getDocumentElement(isContainerWindow, windowElement) {\n    return isContainerWindow ? windowElement.document.documentElement : null;\n}\n/**\n * @param {?} element\n * @param {?} resolver\n * @return {?}\n */\nfunction calculatePoints(element, resolver) {\n    /** @type {?} */\n    const height = extractHeightForElement(resolver);\n    return resolver.isWindow\n        ? calculatePointsForWindow(height, element, resolver)\n        : calculatePointsForElement(height, element, resolver);\n}\n/**\n * @param {?} height\n * @param {?} element\n * @param {?} resolver\n * @return {?}\n */\nfunction calculatePointsForWindow(height, element, resolver) {\n    const { axis, container, isWindow } = resolver;\n    const { offsetHeightKey, clientHeightKey } = extractHeightPropKeys(axis);\n    // scrolled until now / current y point\n    /** @type {?} */\n    const scrolled = height +\n        getElementPageYOffset(getDocumentElement(isWindow, container), axis, isWindow);\n    // total height / most bottom y point\n    /** @type {?} */\n    const nativeElementHeight = getElementHeight(element.nativeElement, isWindow, offsetHeightKey, clientHeightKey);\n    /** @type {?} */\n    const totalToScroll = getElementOffsetTop(element.nativeElement, axis, isWindow) +\n        nativeElementHeight;\n    return { height, scrolled, totalToScroll, isWindow };\n}\n/**\n * @param {?} height\n * @param {?} element\n * @param {?} resolver\n * @return {?}\n */\nfunction calculatePointsForElement(height, element, resolver) {\n    const { axis, container } = resolver;\n    // perhaps use container.offsetTop instead of 'scrollTop'\n    /** @type {?} */\n    const scrolled = container[axis.scrollTopKey()];\n    /** @type {?} */\n    const totalToScroll = container[axis.scrollHeightKey()];\n    return { height, scrolled, totalToScroll, isWindow: false };\n}\n/**\n * @param {?} axis\n * @return {?}\n */\nfunction extractHeightPropKeys(axis) {\n    return {\n        offsetHeightKey: axis.offsetHeightKey(),\n        clientHeightKey: axis.clientHeightKey()\n    };\n}\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction extractHeightForElement({ container, isWindow, axis }) {\n    const { offsetHeightKey, clientHeightKey } = extractHeightPropKeys(axis);\n    return getElementHeight(container, isWindow, offsetHeightKey, clientHeightKey);\n}\n/**\n * @param {?} elem\n * @param {?} isWindow\n * @param {?} offsetHeightKey\n * @param {?} clientHeightKey\n * @return {?}\n */\nfunction getElementHeight(elem, isWindow, offsetHeightKey, clientHeightKey) {\n    if (isNaN(elem[offsetHeightKey])) {\n        /** @type {?} */\n        const docElem = getDocumentElement(isWindow, elem);\n        return docElem ? docElem[clientHeightKey] : 0;\n    }\n    else {\n        return elem[offsetHeightKey];\n    }\n}\n/**\n * @param {?} elem\n * @param {?} axis\n * @param {?} isWindow\n * @return {?}\n */\nfunction getElementOffsetTop(elem, axis, isWindow) {\n    /** @type {?} */\n    const topKey = axis.topKey();\n    // elem = elem.nativeElement;\n    if (!elem.getBoundingClientRect) {\n        // || elem.css('none')) {\n        return;\n    }\n    return (elem.getBoundingClientRect()[topKey] +\n        getElementPageYOffset(elem, axis, isWindow));\n}\n/**\n * @param {?} elem\n * @param {?} axis\n * @param {?} isWindow\n * @return {?}\n */\nfunction getElementPageYOffset(elem, axis, isWindow) {\n    /** @type {?} */\n    const pageYOffset = axis.pageYOffsetKey();\n    /** @type {?} */\n    const scrollTop = axis.scrollTopKey();\n    /** @type {?} */\n    const offsetTop = axis.offsetTopKey();\n    if (isNaN(window.pageYOffset)) {\n        return getDocumentElement(isWindow, elem)[scrollTop];\n    }\n    else if (elem.ownerDocument) {\n        return elem.ownerDocument.defaultView[pageYOffset];\n    }\n    else {\n        return elem[offsetTop];\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} container\n * @param {?} distance\n * @param {?} scrollingDown\n * @return {?}\n */\nfunction shouldFireScrollEvent(container, distance, scrollingDown) {\n    /** @type {?} */\n    let remaining;\n    /** @type {?} */\n    let containerBreakpoint;\n    if (container.totalToScroll <= 0) {\n        return false;\n    }\n    /** @type {?} */\n    const scrolledUntilNow = container.isWindow ? container.scrolled : container.height + container.scrolled;\n    if (scrollingDown) {\n        remaining =\n            (container.totalToScroll - scrolledUntilNow) / container.totalToScroll;\n        containerBreakpoint = distance.down / 10;\n    }\n    else {\n        /** @type {?} */\n        const totalHiddenContentHeight = container.scrolled + (container.totalToScroll - scrolledUntilNow);\n        remaining = container.scrolled / totalHiddenContentHeight;\n        containerBreakpoint = distance.up / 10;\n    }\n    /** @type {?} */\n    const shouldFireEvent = remaining <= containerBreakpoint;\n    return shouldFireEvent;\n}\n/**\n * @param {?} lastScrollPosition\n * @param {?} container\n * @return {?}\n */\nfunction isScrollingDownwards(lastScrollPosition, container) {\n    return lastScrollPosition < container.scrolled;\n}\n/**\n * @param {?} lastScrollPosition\n * @param {?} container\n * @param {?} distance\n * @return {?}\n */\nfunction getScrollStats(lastScrollPosition, container, distance) {\n    /** @type {?} */\n    const scrollDown = isScrollingDownwards(lastScrollPosition, container);\n    return {\n        fire: shouldFireScrollEvent(container, distance, scrollDown),\n        scrollDown\n    };\n}\n/**\n * @param {?} position\n * @param {?} scrollState\n * @return {?}\n */\n\n/**\n * @param {?} totalToScroll\n * @param {?} scrollState\n * @return {?}\n */\n\n/**\n * @param {?} scrollState\n * @return {?}\n */\n\n/**\n * @param {?} scroll\n * @param {?} scrollState\n * @param {?} triggered\n * @param {?} isScrollingDown\n * @return {?}\n */\n\n/**\n * @param {?} totalToScroll\n * @param {?} scrollState\n * @param {?} isScrollingDown\n * @return {?}\n */\n\n/**\n * @param {?} scrollState\n * @param {?} scrolledUntilNow\n * @param {?} totalToScroll\n * @return {?}\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ScrollState {\n    /**\n     * @param {?} __0\n     */\n    constructor({ totalToScroll }) {\n        this.lastScrollPosition = 0;\n        this.lastTotalToScroll = 0;\n        this.totalToScroll = 0;\n        this.triggered = {\n            down: 0,\n            up: 0\n        };\n        this.totalToScroll = totalToScroll;\n    }\n    /**\n     * @param {?} position\n     * @return {?}\n     */\n    updateScrollPosition(position) {\n        return (this.lastScrollPosition = position);\n    }\n    /**\n     * @param {?} totalToScroll\n     * @return {?}\n     */\n    updateTotalToScroll(totalToScroll) {\n        if (this.lastTotalToScroll !== totalToScroll) {\n            this.lastTotalToScroll = this.totalToScroll;\n            this.totalToScroll = totalToScroll;\n        }\n    }\n    /**\n     * @param {?} scrolledUntilNow\n     * @param {?} totalToScroll\n     * @return {?}\n     */\n    updateScroll(scrolledUntilNow, totalToScroll) {\n        this.updateScrollPosition(scrolledUntilNow);\n        this.updateTotalToScroll(totalToScroll);\n    }\n    /**\n     * @param {?} scroll\n     * @param {?} isScrollingDown\n     * @return {?}\n     */\n    updateTriggeredFlag(scroll, isScrollingDown) {\n        if (isScrollingDown) {\n            this.triggered.down = scroll;\n        }\n        else {\n            this.triggered.up = scroll;\n        }\n    }\n    /**\n     * @param {?} totalToScroll\n     * @param {?} isScrollingDown\n     * @return {?}\n     */\n    isTriggeredScroll(totalToScroll, isScrollingDown) {\n        return isScrollingDown\n            ? this.triggered.down === totalToScroll\n            : this.triggered.up === totalToScroll;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} config\n * @return {?}\n */\nfunction createScroller(config) {\n    const { scrollContainer, scrollWindow, element, fromRoot } = config;\n    /** @type {?} */\n    const resolver = createResolver({\n        axis: new AxisResolver(!config.horizontal),\n        windowElement: resolveContainerElement(scrollContainer, scrollWindow, element, fromRoot)\n    });\n    /** @type {?} */\n    const scrollState = new ScrollState({\n        totalToScroll: calculatePoints(element, resolver)\n    });\n    /** @type {?} */\n    const options = {\n        container: resolver.container,\n        throttle: config.throttle\n    };\n    /** @type {?} */\n    const distance = {\n        up: config.upDistance,\n        down: config.downDistance\n    };\n    return attachScrollEvent(options).pipe(mergeMap((/**\n     * @return {?}\n     */\n    () => of(calculatePoints(element, resolver)))), map((/**\n     * @param {?} positionStats\n     * @return {?}\n     */\n    (positionStats) => toInfiniteScrollParams(scrollState.lastScrollPosition, positionStats, distance))), tap((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ stats }) => scrollState.updateScroll(stats.scrolled, stats.totalToScroll))), filter((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ fire, scrollDown, stats: { totalToScroll } }) => shouldTriggerEvents(config.alwaysCallback, fire, scrollState.isTriggeredScroll(totalToScroll, scrollDown)))), tap((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ scrollDown, stats: { totalToScroll } }) => {\n        scrollState.updateTriggeredFlag(totalToScroll, scrollDown);\n    })), map(toInfiniteScrollAction));\n}\n/**\n * @param {?} options\n * @return {?}\n */\nfunction attachScrollEvent(options) {\n    /** @type {?} */\n    let obs = fromEvent(options.container, 'scroll');\n    // For an unknown reason calling `sampleTime()` causes trouble for many users, even with `options.throttle = 0`.\n    // Let's avoid calling the function unless needed.\n    // See https://github.com/orizens/ngx-infinite-scroll/issues/198\n    if (options.throttle) {\n        obs = obs.pipe(sampleTime(options.throttle));\n    }\n    return obs;\n}\n/**\n * @param {?} lastScrollPosition\n * @param {?} stats\n * @param {?} distance\n * @return {?}\n */\nfunction toInfiniteScrollParams(lastScrollPosition, stats, distance) {\n    const { scrollDown, fire } = getScrollStats(lastScrollPosition, stats, distance);\n    return {\n        scrollDown,\n        fire,\n        stats\n    };\n}\n/** @type {?} */\nconst InfiniteScrollActions = {\n    DOWN: '[NGX_ISE] DOWN',\n    UP: '[NGX_ISE] UP'\n};\n/**\n * @param {?} response\n * @return {?}\n */\nfunction toInfiniteScrollAction(response) {\n    const { scrollDown, stats: { scrolled: currentScrollPosition } } = response;\n    return {\n        type: scrollDown ? InfiniteScrollActions.DOWN : InfiniteScrollActions.UP,\n        payload: {\n            currentScrollPosition\n        }\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass InfiniteScrollDirective {\n    /**\n     * @param {?} element\n     * @param {?} zone\n     */\n    constructor(element, zone) {\n        this.element = element;\n        this.zone = zone;\n        this.scrolled = new EventEmitter();\n        this.scrolledUp = new EventEmitter();\n        this.infiniteScrollDistance = 2;\n        this.infiniteScrollUpDistance = 1.5;\n        this.infiniteScrollThrottle = 150;\n        this.infiniteScrollDisabled = false;\n        this.infiniteScrollContainer = null;\n        this.scrollWindow = true;\n        this.immediateCheck = false;\n        this.horizontal = false;\n        this.alwaysCallback = false;\n        this.fromRoot = false;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        if (!this.infiniteScrollDisabled) {\n            this.setup();\n        }\n    }\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    ngOnChanges({ infiniteScrollContainer, infiniteScrollDisabled, infiniteScrollDistance }) {\n        /** @type {?} */\n        const containerChanged = inputPropChanged(infiniteScrollContainer);\n        /** @type {?} */\n        const disabledChanged = inputPropChanged(infiniteScrollDisabled);\n        /** @type {?} */\n        const distanceChanged = inputPropChanged(infiniteScrollDistance);\n        /** @type {?} */\n        const shouldSetup = (!disabledChanged && !this.infiniteScrollDisabled) ||\n            (disabledChanged && !infiniteScrollDisabled.currentValue) || distanceChanged;\n        if (containerChanged || disabledChanged || distanceChanged) {\n            this.destroyScroller();\n            if (shouldSetup) {\n                this.setup();\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    setup() {\n        if (hasWindowDefined()) {\n            this.zone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.disposeScroller = createScroller({\n                    fromRoot: this.fromRoot,\n                    alwaysCallback: this.alwaysCallback,\n                    disable: this.infiniteScrollDisabled,\n                    downDistance: this.infiniteScrollDistance,\n                    element: this.element,\n                    horizontal: this.horizontal,\n                    scrollContainer: this.infiniteScrollContainer,\n                    scrollWindow: this.scrollWindow,\n                    throttle: this.infiniteScrollThrottle,\n                    upDistance: this.infiniteScrollUpDistance\n                }).subscribe((/**\n                 * @param {?} payload\n                 * @return {?}\n                 */\n                (payload) => this.zone.run((/**\n                 * @return {?}\n                 */\n                () => this.handleOnScroll(payload)))));\n            }));\n        }\n    }\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    handleOnScroll({ type, payload }) {\n        switch (type) {\n            case InfiniteScrollActions.DOWN:\n                return this.scrolled.emit(payload);\n            case InfiniteScrollActions.UP:\n                return this.scrolledUp.emit(payload);\n            default:\n                return;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroyScroller();\n    }\n    /**\n     * @return {?}\n     */\n    destroyScroller() {\n        if (this.disposeScroller) {\n            this.disposeScroller.unsubscribe();\n        }\n    }\n}\nInfiniteScrollDirective.ɵfac = function InfiniteScrollDirective_Factory(t) { return new (t || InfiniteScrollDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nInfiniteScrollDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: InfiniteScrollDirective, selectors: [[\"\", \"infiniteScroll\", \"\"], [\"\", \"infinite-scroll\", \"\"], [\"\", \"data-infinite-scroll\", \"\"]], inputs: { infiniteScrollDistance: \"infiniteScrollDistance\", infiniteScrollUpDistance: \"infiniteScrollUpDistance\", infiniteScrollThrottle: \"infiniteScrollThrottle\", infiniteScrollDisabled: \"infiniteScrollDisabled\", infiniteScrollContainer: \"infiniteScrollContainer\", scrollWindow: \"scrollWindow\", immediateCheck: \"immediateCheck\", horizontal: \"horizontal\", alwaysCallback: \"alwaysCallback\", fromRoot: \"fromRoot\" }, outputs: { scrolled: \"scrolled\", scrolledUp: \"scrolledUp\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nInfiniteScrollDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone }\n];\nInfiniteScrollDirective.propDecorators = {\n    scrolled: [{ type: Output }],\n    scrolledUp: [{ type: Output }],\n    infiniteScrollDistance: [{ type: Input }],\n    infiniteScrollUpDistance: [{ type: Input }],\n    infiniteScrollThrottle: [{ type: Input }],\n    infiniteScrollDisabled: [{ type: Input }],\n    infiniteScrollContainer: [{ type: Input }],\n    scrollWindow: [{ type: Input }],\n    immediateCheck: [{ type: Input }],\n    horizontal: [{ type: Input }],\n    alwaysCallback: [{ type: Input }],\n    fromRoot: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(InfiniteScrollDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[infiniteScroll], [infinite-scroll], [data-infinite-scroll]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.NgZone }]; }, { scrolled: [{\n            type: Output\n        }], scrolledUp: [{\n            type: Output\n        }], infiniteScrollDistance: [{\n            type: Input\n        }], infiniteScrollUpDistance: [{\n            type: Input\n        }], infiniteScrollThrottle: [{\n            type: Input\n        }], infiniteScrollDisabled: [{\n            type: Input\n        }], infiniteScrollContainer: [{\n            type: Input\n        }], scrollWindow: [{\n            type: Input\n        }], immediateCheck: [{\n            type: Input\n        }], horizontal: [{\n            type: Input\n        }], alwaysCallback: [{\n            type: Input\n        }], fromRoot: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass InfiniteScrollModule {\n}\nInfiniteScrollModule.ɵfac = function InfiniteScrollModule_Factory(t) { return new (t || InfiniteScrollModule)(); };\nInfiniteScrollModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: InfiniteScrollModule });\nInfiniteScrollModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [], imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(InfiniteScrollModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [InfiniteScrollDirective],\n                exports: [InfiniteScrollDirective],\n                imports: [],\n                providers: []\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(InfiniteScrollModule, { declarations: [InfiniteScrollDirective], exports: [InfiniteScrollDirective] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Angular library starter.\n * Build an Angular library compatible with AoT compilation & Tree shaking.\n * Written by Roberto Simonetti.\n * MIT license.\n * https://github.com/robisim74/angular-library-starter\n */\n/**\n * Entry point for all public APIs of the package.\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { InfiniteScrollDirective, InfiniteScrollModule };\n\n//# sourceMappingURL=ngx-infinite-scroll.js.map","import { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function sampleTime(period, scheduler = async) {\n    return (source) => source.lift(new SampleTimeOperator(period, scheduler));\n}\nclass SampleTimeOperator {\n    constructor(period, scheduler) {\n        this.period = period;\n        this.scheduler = scheduler;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    }\n}\nclass SampleTimeSubscriber extends Subscriber {\n    constructor(destination, period, scheduler) {\n        super(destination);\n        this.period = period;\n        this.scheduler = scheduler;\n        this.hasValue = false;\n        this.add(scheduler.schedule(dispatchNotification, period, { subscriber: this, period }));\n    }\n    _next(value) {\n        this.lastValue = value;\n        this.hasValue = true;\n    }\n    notifyNext() {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.lastValue);\n        }\n    }\n}\nfunction dispatchNotification(state) {\n    let { subscriber, period } = state;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n}\n//# sourceMappingURL=sampleTime.js.map","<div class=\"row\" infinite-scroll (scrolled)=\"onScrollDown()\">\r\n  <div class=\"col-xs-12 col-sm-6 col-md-4\" *ngFor=\"let character of characters\">\r\n     <app-character [character]=\"character\"></app-character>\r\n  </div>\r\n  <div\r\n    class=\"col-xs-12 col-sm-12 col-md-12 mt-5 container-notFound\"\r\n    *ngIf=\"characters.length <= 0\"\r\n  >\r\n    <p>No results.......</p>\r\n  </div>\r\n</div>\r\n<button\r\n[ngClass]=\"'no-hidden'\"\r\n*ngIf=\"showGoUpButton\"\r\nclass=\"btn btn-dark\"\r\n(click)=\"onScrollTop()\">\r\n  Go UP\r\n</button>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  Component, HostListener, Inject, OnInit,\r\n} from '@angular/core';\r\nimport {\r\n  ActivatedRoute, NavigationEnd, ParamMap, Router,\r\n} from '@angular/router';\r\n\r\nimport { filter, take } from 'rxjs/operators';\r\n\r\nimport { Character } from '@shared/interfaces/character.interface';\r\nimport { CharacterService } from '@shared/services/character.service';\r\nimport { TrackHttpError } from '@shared/models/trackHttpError';\r\n\r\ntype RequestInfo = {\r\n  next: string;\r\n};\r\n@Component({\r\n  selector: 'app-character-list',\r\n  templateUrl: './character-list.component.html',\r\n  styleUrls: ['./character-list.component.scss'],\r\n})\r\n\r\nexport class CharacterListComponent implements OnInit {\r\n  characters: Character[] = [];\r\n\r\n  info: RequestInfo = {\r\n    next: null,\r\n  };\r\n\r\n  showGoUpButton = false;\r\n\r\n  private pageNum = 1;\r\n\r\n  private query: string;\r\n\r\n  private hideScrollHeight = 200;\r\n\r\n  private showScrollHeight = 500;\r\n\r\n  constructor(\r\n    @Inject(DOCUMENT) private document:Document,\r\n    private characterSvc: CharacterService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n  ) {\r\n    this.onUrlChanged();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCharactersByQuery();\r\n  }\r\n\r\n  @HostListener('window:scroll', [])\r\n  onWindowScroll():void {\r\n    const yOffSet = window.pageYOffset;\r\n    if ((yOffSet || this.document.documentElement.scrollTop || this.document.body.scrollTop) > this.showScrollHeight) {\r\n      this.showGoUpButton = true;\r\n    } else if (this.showGoUpButton && (yOffSet || this.document.documentElement.scrollTop || this.document.body.scrollTop) < this.hideScrollHeight) {\r\n      this.showGoUpButton = false;\r\n    }\r\n  }\r\n\r\n  onScrollDown():void{\r\n    if (this.info.next) {\r\n      this.pageNum++;\r\n      this.getDataFromService();\r\n    }\r\n  }\r\n\r\n  onScrollTop():void{\r\n    this.document.body.scrollTop = 0; // Safari\r\n    this.document.documentElement.scrollTop = 0; // Other\r\n  }\r\n\r\n  private onUrlChanged(): void {\r\n    this.router.events\r\n      .pipe(filter((event) => event instanceof NavigationEnd))\r\n      .subscribe(() => {\r\n        this.characters = [];\r\n        this.pageNum = 1;\r\n        this.getCharactersByQuery();\r\n      });\r\n  }\r\n\r\n  private getCharactersByQuery(): void {\r\n    this.route.queryParams.pipe(take(1)).subscribe((params: ParamMap) => {\r\n      this.query = params['q'];\r\n      this.getDataFromService();\r\n    });\r\n  }\r\n\r\n  private getDataFromService(): void {\r\n    this.characterSvc\r\n      .searchCharacters(this.query, this.pageNum)\r\n      .pipe(take(1))\r\n      .subscribe((res: any) => {\r\n        if (res?.results?.length) {\r\n          const { info, results } = res;\r\n          this.characters = [...this.characters, ...results];\r\n          this.info = info;\r\n        } else {\r\n          this.characters = [];\r\n        }\r\n      }, (error:TrackHttpError) => console.log((error.friendlyMessage)));\r\n  }\r\n}\r\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Character } from '@app/shared/interfaces/character.interface';\r\n\r\n\r\n@Component({\r\n    selector:'app-character',\r\n    template:`\r\n    <div class=\"card\">\r\n      <div class=\"image\">\r\n        <a [routerLink]=\"['/character-details', character.id-1]\">\r\n          <img\r\n            [src]=\"character.image\"\r\n            [alt]=\"character.name\"\r\n            class=\"card-img-top\"\r\n          />\r\n        </a>\r\n      </div>\r\n      <div class=\"card-inner\">\r\n        <div class=\"header\">\r\n          <a [routerLink]=\"['/character-details', character.id-1]\">\r\n            <h2>{{ character.name | slice: 0:15}}</h2>\r\n          </a>\r\n          <h4 class=\"text-muted\">{{ character.species }}</h4>\r\n          <small class=\"text-muted\">{{ character.created | date }}</small>\r\n        </div>\r\n      </div>\r\n    </div>`,\r\n    changeDetection:ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class CharacterComponent{\r\n    @Input() character:Character;\r\n}\r\n","export class TrackHttpError{\r\n  errorNumber:number;\r\n  message: string;\r\n  friendlyMessage: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\n\r\nimport { throwError, Observable } from 'rxjs';\r\n\r\nimport { Character } from '@shared/interfaces/character.interface';\r\nimport { environment } from '@environment/environment';\r\nimport { TrackHttpError } from '@shared/models/trackHttpError';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CharacterService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  searchCharacters(query = '', page = 200):Observable<Character[] | TrackHttpError> {\r\n    const filter = `${environment.baseUrlAPI}/?name=${query}&page=${page}`;\r\n    return this.http.get<Character[]>(filter)\r\n    .pipe(catchError((err) => this.handleHttpError(err)));\r\n  }\r\n\r\n  getDetails(id: number) {\r\n    return this.http.get<Character>(`${environment.baseUrlAPI}/${id}`)\r\n    .pipe(catchError((err) => this.handleHttpError(err)));\r\n  }\r\n\r\n\r\n  private handleHttpError(\r\n    error:HttpErrorResponse\r\n  ):Observable<TrackHttpError>{\r\n\r\n    let dataError = new TrackHttpError();\r\n    dataError.errorNumber = error.status;\r\n    dataError.message = error.statusText;\r\n    dataError.friendlyMessage = 'An error occured retrienving data.';\r\n    return throwError(dataError);\r\n  }\r\n}\r\n"]}